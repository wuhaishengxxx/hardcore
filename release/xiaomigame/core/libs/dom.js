function copy(a,b){for(var c in a)b[c]=a[c]}function _extends(a,b){function c(){}var d=a.prototype;if(Object.create){var e=Object.create(b.prototype);d.__proto__=e}d instanceof b||(c.prototype=b.prototype,c=new c,copy(d,c),a.prototype=d=c);d.constructor!=a&&("function"!=typeof a&&console.error("unknow Class:"+a),d.constructor=a)}function DOMException(a,b){if(b instanceof Error)var c=b;else c=this,Error.call(this,ExceptionMessage[a]),this.message=ExceptionMessage[a],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return c.code=a,b&&(this.message=this.message+": "+b),c}function NodeList(){}function LiveNodeList(a,b){this._node=a;this._refresh=b;_updateLiveList(this)}function _updateLiveList(a){var b=a._node._inc||a._node.ownerDocument._inc;if(a._inc!=b){var c=a._refresh(a._node);__set__(a,"length",c.length);copy(c,a);a._inc=b}}function NamedNodeMap(){}function _findNodeIndex(a,b){for(var c=a.length;c--;)if(a[c]===b)return c}function _addNamedNode(a,b,c,d){if(d?b[_findNodeIndex(b,d)]=c:b[b.length++]=c,a)c.ownerElement=a,(b=a.ownerDocument)&&(d&&_onRemoveAttribute(b,a,d),_onAddAttribute(b,a,c))}function _removeNamedNode(a,b,c){var d=_findNodeIndex(b,c);if(!(0<=d))throw DOMException(NOT_FOUND_ERR,Error(a.tagName+"@"+c));for(var e=b.length-1;e>d;)b[d]=b[++d];(b.length=e,a)&&(b=a.ownerDocument)&&(_onRemoveAttribute(b,a,c),c.ownerElement=null)}function DOMImplementation(a){if(this._features={},a)for(var b in a)this._features=a[b]}function Node(){}function _xmlEncoder(a){return"\x3c"==a&&"\x26lt;"||"\x3e"==a&&"\x26gt;"||"\x26"==a&&"\x26amp;"||'"'==a&&"\x26quot;"||"\x26#"+a.charCodeAt()+";"}function _visitNode(a,b){if(b(a))return!0;if(a=a.firstChild){do if(_visitNode(a,b))return!0;while(a=a.nextSibling)}}function Document(){}function _onAddAttribute(a,b,c){a&&a._inc++;"http://www.w3.org/2000/xmlns/"==c.namespaceURI&&(b._nsMap[c.prefix?c.localName:""]=c.value)}function _onRemoveAttribute(a,b,c){a&&a._inc++;"http://www.w3.org/2000/xmlns/"==c.namespaceURI&&delete b._nsMap[c.prefix?c.localName:""]}function _onUpdateChild(a,b,c){if(a&&a._inc)if(a._inc++,a=b.childNodes,c)a[a.length++]=c;else{b=b.firstChild;for(c=0;b;)a[c++]=b,b=b.nextSibling;a.length=c}}function _removeChild(a,b){var c=b.previousSibling,d=b.nextSibling;return c?c.nextSibling=d:a.firstChild=d,d?d.previousSibling=c:a.lastChild=c,_onUpdateChild(a.ownerDocument,a),b}function _insertBefore(a,b,c){var d=b.parentNode;if(d&&d.removeChild(b),b.nodeType===DOCUMENT_FRAGMENT_NODE){d=b.firstChild;if(null==d)return b;var e=b.lastChild}else d=e=b;var f=c?c.previousSibling:a.lastChild;d.previousSibling=f;e.nextSibling=c;f?f.nextSibling=d:a.firstChild=d;null==c?a.lastChild=e:c.previousSibling=e;do d.parentNode=a;while(d!==e&&(d=d.nextSibling));return _onUpdateChild(a.ownerDocument||a,a),b.nodeType==DOCUMENT_FRAGMENT_NODE&&(b.firstChild=b.lastChild=null),b}function _appendSingleChild(a,b){var c=b.parentNode;c&&c.removeChild(b);c=a.lastChild;return b.parentNode=a,b.previousSibling=c,b.nextSibling=null,c?c.nextSibling=b:a.firstChild=b,a.lastChild=b,_onUpdateChild(a.ownerDocument,a,b),b}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function XMLSerializer(){}function nodeSerializeToString(a,b){var c=[],d=9==this.nodeType?this.documentElement:this,e=d.prefix,f=d.namespaceURI;if(f&&null==e&&null==d.lookupPrefix(f))var h=[{namespace:f,prefix:null}];return serializeToString(this,c,a,b,h),c.join("")}function needNamespaceDefine(a,b,c){b=a.prefix||"";a=a.namespaceURI;if(!b&&!a||"xml"===b&&"http://www.w3.org/XML/1998/namespace"===a||"http://www.w3.org/2000/xmlns/"==a)return!1;for(var d=c.length;d--;){var e=c[d];if(e.prefix==b)return e.namespace!=a}return!0}function serializeToString(a,b,c,d,e){if(d){if(!(a=d(a)))return;if("string"==typeof a)return void b.push(a)}switch(a.nodeType){case ELEMENT_NODE:e||(e=[]);var f=(e.length,a.attributes),h=f.length,g=a.firstChild,p=a.tagName;c=htmlns===a.namespaceURI||c;b.push("\x3c",p);for(l=0;h>l;l++)"xmlns"==(k=f.item(l)).prefix?e.push({prefix:k.localName,namespace:k.value}):"xmlns"==k.nodeName&&e.push({prefix:"",namespace:k.value});for(var l=0;h>l;l++){var k=f.item(l);if(needNamespaceDefine(k,c,e)){var m=k.prefix||"",n=k.namespaceURI;b.push(m?" xmlns:"+m:" xmlns",'\x3d"',n,'"');e.push({prefix:m,namespace:n})}serializeToString(k,b,c,d,e)}needNamespaceDefine(a,c,e)&&(m=a.prefix||"",n=a.namespaceURI,b.push(m?" xmlns:"+m:" xmlns",'\x3d"',n,'"'),e.push({prefix:m,namespace:n}));if(g||c&&!/^(?:meta|link|img|br|hr|input)$/i.test(p)){if(b.push("\x3e"),c&&/^script$/i.test(p))for(;g;)g.data?b.push(g.data):serializeToString(g,b,c,d,e),g=g.nextSibling;else for(;g;)serializeToString(g,b,c,d,e),g=g.nextSibling;b.push("\x3c/",p,"\x3e")}else b.push("/\x3e");break;case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(g=a.firstChild;g;)serializeToString(g,b,c,d,e),g=g.nextSibling;break;case ATTRIBUTE_NODE:return b.push(" ",a.name,'\x3d"',a.value.replace(/[<&"]/g,_xmlEncoder),'"');case TEXT_NODE:return b.push(a.data.replace(/[<&]/g,_xmlEncoder));case CDATA_SECTION_NODE:return b.push("\x3c![CDATA[",a.data,"]]\x3e");case COMMENT_NODE:return b.push("\x3c!--",a.data,"--\x3e");case DOCUMENT_TYPE_NODE:c=a.publicId;d=a.systemId;(b.push("\x3c!DOCTYPE ",a.name),c)?(b.push(' PUBLIC "',c),d&&"."!=d&&b.push('" "',d),b.push('"\x3e')):d&&"."!=d?b.push(' SYSTEM "',d,'"\x3e'):((a=a.internalSubset)&&b.push(" [",a,"]"),b.push("\x3e"));break;case PROCESSING_INSTRUCTION_NODE:return b.push("\x3c?",a.target," ",a.data,"?\x3e");case ENTITY_REFERENCE_NODE:return b.push("\x26",a.nodeName,";");default:b.push("??",a.nodeName)}}function importNode(a,b,c){var d;switch(b.nodeType){case ELEMENT_NODE:(d=b.cloneNode(!1)).ownerDocument=a;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:c=!0}if(d||(d=b.cloneNode(!1)),d.ownerDocument=a,d.parentNode=null,c)for(b=b.firstChild;b;)d.appendChild(importNode(a,b,c)),b=b.nextSibling;return d}function cloneNode(a,b,c){var d=new b.constructor,e;for(e in b){var f=b[e];"object"!=typeof f&&f!=d[e]&&(d[e]=f)}switch(b.childNodes&&(d.childNodes=new NodeList),d.ownerDocument=a,d.nodeType){case ELEMENT_NODE:e=b.attributes;var h=d.attributes=new NamedNodeMap,f=e.length;h._ownerElement=d;for(h=0;f>h;h++)d.setAttributeNode(cloneNode(a,e.item(h),!0));break;case ATTRIBUTE_NODE:c=!0}if(c)for(b=b.firstChild;b;)d.appendChild(cloneNode(a,b,c)),b=b.nextSibling;return d}function __set__(a,b,c){a[b]=c}function getTextContent(a){switch(a.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:var b=[];for(a=a.firstChild;a;)7!==a.nodeType&&8!==a.nodeType&&b.push(getTextContent(a)),a=a.nextSibling;return b.join("");default:return a.nodeValue}}var htmlns="http://www.w3.org/1999/xhtml",NodeType={},ELEMENT_NODE=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={},INDEX_SIZE_ERR=ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1),DOMSTRING_SIZE_ERR=ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2),HIERARCHY_REQUEST_ERR=ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3),WRONG_DOCUMENT_ERR=ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4),INVALID_CHARACTER_ERR=ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5),NO_DATA_ALLOWED_ERR=ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6),NO_MODIFICATION_ALLOWED_ERR=ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7),NOT_FOUND_ERR=ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8),NOT_SUPPORTED_ERR=ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9),INUSE_ATTRIBUTE_ERR=ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10),INVALID_STATE_ERR=ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11),SYNTAX_ERR=ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12),INVALID_MODIFICATION_ERR=ExceptionCode.INVALID_MODIFICATION_ERR=(ExceptionMessage[13]="Invalid modification",13),NAMESPACE_ERR=ExceptionCode.NAMESPACE_ERR=(ExceptionMessage[14]="Invalid namespace",14),INVALID_ACCESS_ERR=ExceptionCode.INVALID_ACCESS_ERR=(ExceptionMessage[15]="Invalid access",15);DOMException.prototype=Error.prototype;copy(ExceptionCode,DOMException);NodeList.prototype={length:0,item:function(a){return this[a]||null},toString:function(a,b){for(var c=[],d=0;d<this.length;d++)serializeToString(this[d],c,a,b);return c.join("")}};LiveNodeList.prototype.item=function(a){return _updateLiveList(this),this[a]};_extends(LiveNodeList,NodeList);NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(a){for(var b=this.length;b--;){var c=this[b];if(c.nodeName==a)return c}},setNamedItem:function(a){var b=a.ownerElement;if(b&&b!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);b=this.getNamedItem(a.nodeName);return _addNamedNode(this._ownerElement,this,a,b),b},setNamedItemNS:function(a){var b,c=a.ownerElement;if(c&&c!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);return b=this.getNamedItemNS(a.namespaceURI,a.localName),_addNamedNode(this._ownerElement,this,a,b),b},removeNamedItem:function(a){a=this.getNamedItem(a);return _removeNamedNode(this._ownerElement,this,a),a},removeNamedItemNS:function(a,b){a=this.getNamedItemNS(a,b);return _removeNamedNode(this._ownerElement,this,a),a},getNamedItemNS:function(a,b){for(var c=this.length;c--;){var d=this[c];if(d.localName==b&&d.namespaceURI==a)return d}return null}};DOMImplementation.prototype={hasFeature:function(a,b){a=this._features[a.toLowerCase()];return!(!a||b&&!(b in a))},createDocument:function(a,b,c){var d=new Document;if(d.implementation=this,d.childNodes=new NodeList,d.doctype=c,c&&d.appendChild(c),b)a=d.createElementNS(a,b),d.appendChild(a);return d},createDocumentType:function(a,b,c){var d=new DocumentType;return d.name=a,d.nodeName=a,d.publicId=b,d.systemId=c,d}};Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(a,b){return _insertBefore(this,a,b)},replaceChild:function(a,b){this.insertBefore(a,b);b&&this.removeChild(b)},removeChild:function(a){return _removeChild(this,a)},appendChild:function(a){return this.insertBefore(a,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(a){return cloneNode(this.ownerDocument||this,this,a)},normalize:function(){for(var a=this.firstChild;a;){var b=a.nextSibling;b&&b.nodeType==TEXT_NODE&&a.nodeType==TEXT_NODE?(this.removeChild(b),a.appendData(b.data)):(a.normalize(),a=b)}},isSupported:function(a,b){return this.ownerDocument.implementation.hasFeature(a,b)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(a){for(var b=this;b;){var c=b._nsMap;if(c)for(var d in c)if(c[d]==a)return d;b=b.nodeType==ATTRIBUTE_NODE?b.ownerDocument:b.parentNode}return null},lookupNamespaceURI:function(a){for(var b=this;b;){var c=b._nsMap;if(c&&a in c)return c[a];b=b.nodeType==ATTRIBUTE_NODE?b.ownerDocument:b.parentNode}return null},isDefaultNamespace:function(a){return null==this.lookupPrefix(a)}};copy(NodeType,Node);copy(NodeType,Node.prototype);Document.prototype={nodeName:"#document",nodeType:DOCUMENT_NODE,doctype:null,documentElement:null,_inc:1,insertBefore:function(a,b){if(a.nodeType==DOCUMENT_FRAGMENT_NODE){for(var c=a.firstChild;c;){var d=c.nextSibling;this.insertBefore(c,b);c=d}return a}return null==this.documentElement&&a.nodeType==ELEMENT_NODE&&(this.documentElement=a),_insertBefore(this,a,b),a.ownerDocument=this,a},removeChild:function(a){return this.documentElement==a&&(this.documentElement=null),_removeChild(this,a)},importNode:function(a,b){return importNode(this,a,b)},getElementById:function(a){var b=null;return _visitNode(this.documentElement,function(c){return c.nodeType==ELEMENT_NODE&&c.getAttribute("id")==a?(b=c,!0):void 0}),b},createElement:function(a){var b=new Element;b.ownerDocument=this;b.nodeName=a;b.tagName=a;b.childNodes=new NodeList;return(b.attributes=new NamedNodeMap)._ownerElement=b,b},createDocumentFragment:function(){var a=new DocumentFragment;return a.ownerDocument=this,a.childNodes=new NodeList,a},createTextNode:function(a){var b=new Text;return b.ownerDocument=this,b.appendData(a),b},createComment:function(a){var b=new Comment;return b.ownerDocument=this,b.appendData(a),b},createCDATASection:function(a){var b=new CDATASection;return b.ownerDocument=this,b.appendData(a),b},createProcessingInstruction:function(a,b){var c=new ProcessingInstruction;return c.ownerDocument=this,c.tagName=c.target=a,c.nodeValue=c.data=b,c},createAttribute:function(a){var b=new Attr;return b.ownerDocument=this,b.name=a,b.nodeName=a,b.localName=a,b.specified=!0,b},createEntityReference:function(a){var b=new EntityReference;return b.ownerDocument=this,b.nodeName=a,b},createElementNS:function(a,b){var c=new Element,d=b.split(":"),e=c.attributes=new NamedNodeMap;return c.childNodes=new NodeList,c.ownerDocument=this,c.nodeName=b,c.tagName=b,c.namespaceURI=a,2==d.length?(c.prefix=d[0],c.localName=d[1]):c.localName=b,e._ownerElement=c,c},createAttributeNS:function(a,b){var c=new Attr,d=b.split(":");return c.ownerDocument=this,c.nodeName=b,c.name=b,c.namespaceURI=a,c.specified=!0,2==d.length?(c.prefix=d[0],c.localName=d[1]):c.localName=b,c}};_extends(Document,Node);Element.prototype={nodeType:ELEMENT_NODE,hasAttribute:function(a){return null!=this.getAttributeNode(a)},getAttribute:function(a){return(a=this.getAttributeNode(a))&&a.value||""},getAttributeNode:function(a){return this.attributes.getNamedItem(a)},setAttribute:function(a,b){a=this.ownerDocument.createAttribute(a);a.value=a.nodeValue=""+b;this.setAttributeNode(a)},removeAttribute:function(a){(a=this.getAttributeNode(a))&&this.removeAttributeNode(a)},appendChild:function(a){return a.nodeType===DOCUMENT_FRAGMENT_NODE?this.insertBefore(a,null):_appendSingleChild(this,a)},setAttributeNode:function(a){return this.attributes.setNamedItem(a)},setAttributeNodeNS:function(a){return this.attributes.setNamedItemNS(a)},removeAttributeNode:function(a){return this.attributes.removeNamedItem(a.nodeName)},removeAttributeNS:function(a,b){(a=this.getAttributeNodeNS(a,b))&&this.removeAttributeNode(a)},hasAttributeNS:function(a,b){return null!=this.getAttributeNodeNS(a,b)},getAttributeNS:function(a,b){return(a=this.getAttributeNodeNS(a,b))&&a.value||""},setAttributeNS:function(a,b,c){a=this.ownerDocument.createAttributeNS(a,b);a.value=a.nodeValue=""+c;this.setAttributeNode(a)},getAttributeNodeNS:function(a,b){return this.attributes.getNamedItemNS(a,b)},getElementsByTagName:function(a){return new LiveNodeList(this,function(b){var c=[];return _visitNode(b,function(d){d===b||d.nodeType!=ELEMENT_NODE||"*"!==a&&d.tagName!=a||c.push(d)}),c})},getElementsByTagNameNS:function(a,b){return new LiveNodeList(this,function(c){var d=[];return _visitNode(c,function(e){e===c||e.nodeType!==ELEMENT_NODE||"*"!==a&&e.namespaceURI!==a||"*"!==b&&e.localName!=b||d.push(e)}),d})}};Document.prototype.getElementsByTagName=Element.prototype.getElementsByTagName;Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS;_extends(Element,Node);Attr.prototype.nodeType=ATTRIBUTE_NODE;_extends(Attr,Node);CharacterData.prototype={data:"",substringData:function(a,b){return this.data.substring(a,a+b)},appendData:function(a){this.nodeValue=this.data=a=this.data+a;this.length=a.length},insertData:function(a,b){this.replaceData(a,0,b)},appendChild:function(){throw Error(ExceptionMessage[HIERARCHY_REQUEST_ERR]);},deleteData:function(a,b){this.replaceData(a,b,"")},replaceData:function(a,b,c){this.nodeValue=this.data=c=this.data.substring(0,a)+c+this.data.substring(a+b);this.length=c.length}};_extends(CharacterData,Node);Text.prototype={nodeName:"#text",nodeType:TEXT_NODE,splitText:function(a){var b=this.data,c=b.substring(a);this.data=this.nodeValue=b=b.substring(0,a);this.length=b.length;a=this.ownerDocument.createTextNode(c);return this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling),a}};_extends(Text,CharacterData);Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE};_extends(Comment,CharacterData);CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE};_extends(CDATASection,CharacterData);DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE;_extends(DocumentType,Node);Notation.prototype.nodeType=NOTATION_NODE;_extends(Notation,Node);Entity.prototype.nodeType=ENTITY_NODE;_extends(Entity,Node);EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE;_extends(EntityReference,Node);DocumentFragment.prototype.nodeName="#document-fragment";DocumentFragment.prototype.nodeType=DOCUMENT_FRAGMENT_NODE;_extends(DocumentFragment,Node);ProcessingInstruction.prototype.nodeType=PROCESSING_INSTRUCTION_NODE;_extends(ProcessingInstruction,Node);XMLSerializer.prototype.serializeToString=function(a,b,c){return nodeSerializeToString.call(a,b,c)};Node.prototype.toString=nodeSerializeToString;try{Object.defineProperty&&(Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{get:function(){return getTextContent(this)},set:function(a){switch(this.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(;this.firstChild;)this.removeChild(this.firstChild);(a||String(a))&&this.appendChild(this.ownerDocument.createTextNode(a));break;default:this.nodeValue=this.value=this.data=a}}}),__set__=function(a,b,c){a["$$"+b]=c})}catch(a){}exports.DOMImplementation=DOMImplementation;exports.XMLSerializer=XMLSerializer;